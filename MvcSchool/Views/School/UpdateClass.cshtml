
@{
}

@model MvcSchool.Models.UpdateClassViewModel

<h2>Edit Class</h2>
<form class="mt-3" method="post" action="UpdateClass">
    <div class="mb-3">
        <label for="" class="form-label">Class ID</label>
        <input type="text" class="form-control" asp-for="ClassID" readonly>
    </div>
    <div class="mb-3">
        <label for="" class="form-label">Class Name</label>
        <input type="text" class="form-control" asp-for="ClassName">
    </div>
    <div class="mb-3">
        <label for="" class="form-label">Class Fee</label>
        <input type="number" class="form-control" asp-for="ClassFee">
    </div>
    <div class="mb-3">
        <label for="" class="form-label">Start Date</label>
        <input type="date" class="form-control" asp-for="StartDate">
    </div>
    <div class="mb-3">
        <label for="" class="form-labe">End Datee</label>
        <input type="date" class="form-control" asp-for="EndDate">
    </div>

  <button type="submit" class="btn btn-primary">Submit</button>
   <button id="btn-del" type="submit" class="btn btn-danger" asp-controller="School" asp-action="DeleteClass">Delete</button>
    <!--@Html.ActionLink("Delete","DeleteClass",new {id=Model.ClassID},new {@class="btn btn-danger",@onclick="return confirm('Are You Sure You Want To Delete "+Model.ClassName+" Class');"})-->

</form>

<script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
@section scripts{
    <script>
        $(document).ready(function () {

            $("#btn-del").click(function () {

                $.ajax({
                    type: "POST",
                    url: "@Url.Action("DeleteClass","School")",
                    data: { id: '@Model.ClassID' },
                    success: function () {
                        console.log("Success");
                    },
                    Error: function (req, status, error) {
                        console.log(status);
                    }
                });
            })

        })
    </script>
}